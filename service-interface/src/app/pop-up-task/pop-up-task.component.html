
<!-- Fundal întunecat -->
<div class="modal-backdrop"></div>

<!-- Modala centrată -->
<div class="modal-wrapper" (click)="onBackdropClick($event)">
  <div class="modal-content" (click)="$event.stopPropagation()" #printSection id="print-section">
    <span class="close-btn no-print" (click)="closeModal()">×</span>

    <h2 style="text-align: center;">Fișă de Intervenție</h2>

    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
      <tr><td><strong>Tip intervenție:</strong></td><td>{{ item.typeOfIntervention }}</td></tr>
      <tr><td><strong>Denumire echipament:</strong></td><td>{{ item.equipmentName }}</td></tr>
      <tr><td><strong>Serie:</strong></td><td>{{ item.serialNumber }}</td></tr>
      <tr><td><strong>Data intervenției:</strong></td><td>{{ item.dateOfIntervention }}</td></tr>
      <tr><td><strong>Garanție expiră la:</strong></td><td>{{ item.dateOfExpireWarranty }}</td></tr>
      <tr><td><strong>Durata garanției:</strong></td><td>{{ item.yearsOfWarranty }} luni</td></tr>
      <tr><td><strong>Client:</strong></td><td>{{ item.customerName }}</td></tr>
      <tr><td><strong>Tehnician:</strong></td><td>{{ item.employeeName }}</td></tr>
      <tr><td><strong>Problemă semnalată:</strong></td><td>{{ item.noticed }}</td></tr>
      <tr><td><strong>Rezolvare:</strong></td><td>{{ item.fixed }}</td></tr>
      <tr><td><strong>Notă inginer:</strong></td><td>{{ item.engineerNote }}</td></tr>
    </table>

    <div style="margin-top: 120px; display: flex; justify-content: flex-end;">
      <div style="text-align: center; margin-right: 20px;">
        <p>Ștampilă</p>
        <img src="assets/stampila.png" alt="Ștampilă" style="max-width: 150px;" />
      </div>
      <div style="text-align: center;">
        <p>Semnătură client</p>
        <img *ngIf="item.signatureBase64" [src]="item.signatureBase64" alt="Semnătură" style="max-width: 200px;" />
      </div>
    </div>

    <div class="no-print" style="margin-top: 30px;">
      <a routerLink="/intervention-sheet/{{item.id}}">
        <button mat-raised-button>Edit</button>
      </a>
      <button mat-raised-button (click)="print()">Printează</button>
      <button mat-raised-button (click)="exportPdf()">Exportă PDF</button>
      <button mat-fab color="warn" (click)="delete(item)">Delete</button>
    </div>
  </div>
</div>
